<div align="center">
<img src="./static/images/TikTokDownloader.png" alt="TikTokDownloader" height="256" width="256"><br>
<h1>TikTokDownloader</h1>
<p><a href="README.md">简体中文</a> | English</p>
<a href="https://trendshift.io/repositories/6222" target="_blank"><img src="https://trendshift.io/api/badge/repositories/6222" alt="JoeanAmier%2FTikTokDownloader | Trendshift" style="width: 250px; height: 55px;" width="250" height="55"/></a>
<br>
<img alt="GitHub" src="https://img.shields.io/github/license/JoeanAmier/TikTokDownloader?style=for-the-badge&color=ff6348">
<img alt="GitHub forks" src="https://img.shields.io/github/forks/JoeanAmier/TikTokDownloader?style=for-the-badge&color=ffa502">
<img alt="GitHub Repo stars" src="https://img.shields.io/github/stars/JoeanAmier/TikTokDownloader?style=for-the-badge&color=ffee6f">
<img alt="GitHub code size in bytes" src="https://img.shields.io/github/languages/code-size/JoeanAmier/TikTokDownloader?style=for-the-badge&color=13c2c2">
<br>
<img alt="Static Badge" src="https://img.shields.io/badge/Python-3.12-3498db?style=for-the-badge&logo=python&labelColor=fffa65">
<img alt="GitHub release (with filter)" src="https://img.shields.io/github/v/release/JoeanAmier/TikTokDownloader?style=for-the-badge&color=ff7675">
<img src="https://img.shields.io/badge/Sourcery-enabled-884898?style=for-the-badge&color=e056fd" alt="">
<img alt="GitHub all releases" src="https://img.shields.io/github/downloads/JoeanAmier/TikTokDownloader/total?style=for-the-badge&color=52c41a">
</div>
<br>
<p>🔥 <b>TikTok Posts/Liked/Mix/Live/Video/Image/Music; DouYin Posts/Liked/Favorites/Collections/Video/Image/LivePhoto/Live/Music/Mix/Comments/Account/Search/Hot Board Data Acquisition Tools:</b> Fully open-source, free data collection and file download tool based on HTTPX module implementation; batch download of DouYin account posts works, liked works, favorites works and collections works; batch download of TikTok account posts works and liked works; download of DouYin linked or TikTok linked works; obtain DouYin live stream addresses; download DouYin live stream video; obtain TikTok live stream addresses; download TikTok live stream video; collect DouYin works comments data; batch download of DouYin Mix works; batch download of TikTok Mix works; collect detailed data of DouYin accounts; collect DouYin user/works/live search results; collect DouYin Hot Board data.</p>
<p>⭐ This project is completely free and open-source, with no paid features. Please do not be deceived!</p>
<p>⭐ Due to the author's limited energy, I was unable to update the English document in a timely manner, and the content may have become outdated, partial translation is machine translation, the translation result may be incorrect, Suggest referring to Chinese documentation. If you want to contribute to translation, we warmly welcome you.</p>
<hr>

# 📝 Project Features

* ✅ Download DouYin video/image without watermarks
* ✅ Download DouYin live photo without watermarks
* ✅ Download the highest quality video file
* ✅ Download TikTok video/image without watermarks
* ✅ Download of DouYin account posts/liked/favorites works
* ✅ Download of TikTok account posts/liked works
* ✅ Collect detailed data from DouYin/TikTok
* ✅ Batch download of linked works
* ✅ Batch download of works from multiple accounts
* ✅ Automatically skip already downloaded files
* ✅ Persistently save collected data
* ✅ Support CSV/XLSX/SQLite format for saving data
* ✅ Download dynamic/static cover images
* ✅ Obtain DouYin live stream addresses
* ✅ Obtain TikTok live stream addresses
* ✅ Use ffmpeg to download live video
* ✅ Web UI interaction interface
* ✅ Collect comments data from DouYin works
* ✅ Batch download of DouYin Mix works
* ✅ Batch download of TikTok Mix works
* ✅ Record statistics such as likes and favorites
* ✅ Filter works based on publication time
* ✅ Support incremental downloading of account works
* ✅ Support data Collections using proxies
* ✅ Support remote access via LAN
* ✅ Collect detailed data from DouYin accounts
* ✅ Update statistics of works
* ✅ Support custom account/mix mark
* ✅ Automatically update account nickname/mark
* ✅ Deploy to private servers
* ✅ Deploy to public servers
* ✅ Collect DouYin search data
* ✅ Collect DouYin hot board data
* ✅ Record IDs of already downloaded works
* ☑️ ~~Scan QR code to log in and obtain Cookies~~
* ✅ Obtain Cookies from browsers
* ✅ Support Web API calls
* ✅ Support multithreaded downloading of works
* ✅ File integrity processing mechanism
* ✅ Custom rules for filtering works
* ✅ Archive and save works files by folder
* ✅ Customize file size limit
* ✅ Support resume downloading of files from breakpoints

# 💻 Program Screenshot

**Terminal interaction mode：**

<p><b>🎥 Click on the image to watch the demonstration video. It is recommended to manage accounts through configuration files. For more information, please refer to the <a href="https://github.com/JoeanAmier/TikTokDownloader/wiki/Documentation">documentation</a></b></p>

[![终端模式截图](docs/终端交互模式截图EN1.png)](https://www.bilibili.com/video/BV1RAcHe5EpF/)
*****
[![终端模式截图](docs/终端交互模式截图EN2.png)](https://www.bilibili.com/video/BV1RAcHe5EpF/)
*****
[![终端模式截图](docs/终端交互模式截图EN3.png)](https://www.bilibili.com/video/BV1RAcHe5EpF/)
<br><br>
**Web UI interaction mode：**
<br><br>
![WebUI模式截图](docs/WebUI模式截图1.png)
*****
![WebUI模式截图](docs/WebUI模式截图2.png)
*****
![WebUI模式截图](docs/WebUI模式截图3.png)
<br><br>
**Web API mode：**
<br><br>
![WebAPI模式截图](docs/WebAPI模式截图.png)

# 📈 Project Status

* 🟢 After testing, the source code published
  on [Releases](https://github.com/JoeanAmier/TikTokDownloader/releases/latest) has been verified and all functions are
  normal.
* 🟡 For the development plans and progress of TikTokDownloader, please
  visit [Projects](https://github.com/users/JoeanAmier/projects/2).
* 🔴 Note that the latest source code (Beta version) may have some unstable bugs.
* 🔴 If you find any program bugs during use, please inform the author promptly for repairs.

# 📋 Project Instructions

## Quick Start

<p>⭐ Mac OS and Windows 10 and above users can go to <a href="https://github.com/JoeanAmier/TikTokDownloader/releases/latest">Releases</a> to download the compiled program, ready to use!</p>
<p>⭐ This project includes GitHub Actions for manually building executable files. Users can use GitHub Actions to build the latest source code into executable files at any time!</p>
<p><strong>Note: The executable file <code>main</code> on Mac OS may need to be started from the terminal command line. Due to device limitations, the executable file on the Mac OS platform has not been tested, and its usability cannot be guaranteed!</strong></p>
<hr>
<ol>
<li><b>Run the executable file</b> or <b>configure the environment to run</b>
<ol><b>Run the executable file</b>
<li>Download the executable file compressed file built by <a href="https://github.com/JoeanAmier/TikTokDownloader/releases/latest">Releases</a> or Actions.</li>
<li>After extracting, open the program folder and double-click to run <code>main</code>.</li>
</ol>
<ol><b>Configure the environment to run</b>

[//]: # (<li>Install Python interpreter version not lower than <code>3.12</code></li>)
<li>Install Python interpreter version <code>3.12</code></li>
<li>Download the latest source code or the source code published on <a href="https://github.com/JoeanAmier/TikTokDownloader/releases/latest">Releases</a> to your local machine.</li>
<li>Run the command <code>python -m venv venv</code> to create a virtual environment (optional).</li>
<li>Run the command <code>.\venv\Scripts\activate.ps1</code> or <code>venv\Scripts\activate</code> to activate the virtual environment (optional).</li>
<li>Run the command <code>pip install -r requirements.txt</code> to install the required modules for the program.</li>
<li>Run the command <code>python .\main.py</code> or <code>python main.py</code> to start TikTokDownloader.</li>
</ol>
</li>
<li>Read the disclaimer of TikTokDownloader and enter content according to the prompt.</li>
<li>Write Cookie information into the configuration file
<ol><b>Manually copy and paste Cookie (recommended)</b>
<li>Refer to <a href="https://github.com/JoeanAmier/TikTokDownloader/blob/master/docs/Cookie%E8%8E%B7%E5%8F%96%E6%95%99%E7%A8%8B.md">Cookie Extraction Tutorial</a>, copy the required Cookie to the clipboard.</li>
<li>Select the option to <code>copy and paste to write Cookie</code>, and follow the prompts to write the Cookie into the configuration file.</li>
</ol>
<ol><b>Get Cookie from Browser (recommended)</b>
<li>Select the option <code>Get Cookie from Browser</code> and follow the prompts to choose the browser type.</li>
</ol>
<ol><b>Scan code login to get Cookie (deprecated)</b>
<li>Select the option <code>Scan code login to get Cookie</code>, and the program will display a login QR code image and open the image with the default application.</li>
<li>Use the DouYin APP to scan the QR code and log into your account.</li>
<li>Follow the prompts to write the Cookie into the configuration file.</li>
</ol>
</li>
<li>Return to the program interface, sequentially select <code>Terminal interactive mode</code> -> <code>Batch download link works (general)</code> -> <code>Manually enter the link of the works to be collected</code>.</li>
<li>Input the DouYin works link to download the works file (the TikTok platform requires more initial setup, please refer to the documentation for details).</li>
<li>For more detailed instructions, please see <b><a href="https://github.com/JoeanAmier/TikTokDownloader/wiki/Documentation">Project Documentation</a></b>.</li>
</ol>
<p>⭐ It is recommended to use <a href="https://learn.microsoft.com/zh-cn/windows/terminal/install">Windows Terminal</a> (the default terminal that comes with Windows 11).</p>

### Docker Container

<ol>
<li>Get the image</li>
<ul>
<li>Method 1: Build the image using the <code>Dockerfile</code>.</li>
<li>Method 2: Pull the image using the command <code>docker pull joeanamier/tiktok-downloader</code>.</li>
</ul>
<li>Create the container: <code>docker run -it joeanamier/tiktok-downloader</code>.</li>
<li>Run the container
<ul>
<li>Start the container: <code>docker start -i container name/container ID</code>.</li>
<li>Restart the container: <code>docker restart -i container name/container ID</code>.</li>
</ul>
</li>
</ol>
<p>Docker containers cannot directly access the host machine's file system, and some features may be unavailable, for example: <code>Get Cookie from Browser</code>; if there are any other issues, please report!</p>

<hr>

## About Cookie

[Click to view Cookie tutorial](https://github.com/JoeanAmier/TikTokDownloader/blob/master/docs/Cookie%E8%8E%B7%E5%8F%96%E6%95%99%E7%A8%8B.md)

|       Program Function       |     Login Required     |
|:----------------------------:|:----------------------:|
| Download Account Posts Works | ⭕ Recommended to Login |
| Download Account Liked Works | ⭕ Recommended to Login |
|    Download Linked Works     |  ❌ No Login Required   |
|  Obtain Live Stream Address  |  ❌ No Login Required   |
|     Download Live Video      |  ❌ No Login Required   |
|  Obtain Works Comment Data   |  ❌ No Login Required   |
|      Download Mix Works      |  ❌ No Login Required   |
|     Obtain Account Data      |  ❌ No Login Required   |
|    Collect Search Results    |  ❌ No Login Required   |
|    Collect Hot Board Data    |  ❌ No Login Required   |
|   Download Favorites Works   |   ✔️ Login Required    |
|  Download Collections Works  |   ✔️ Login Required    |
|    Obtain Collections Mix    |   ✔️ Login Required    |
|   Obtain Collections Music   |   ✔️ Login Required    |
|  Obtain Collections Series   |   ✔️ Login Required    |

> * Cookie only needs to be re-written to the configuration file after it expires, and not every time the program is
    run.
>
> * The Cookie can affect the resolution of the video files downloaded from the DouYin platform. If you are unable to
    download high-resolution video files, please try updating the Cookie!
>
> * When the program fails to obtain data, you can try updating the Cookie or using a Cookie that is already logged in!

<hr>

## Other Instructions

<ul>
<li>When the program prompts the user for input, pressing Enter directly will return to the previous menu, and inputting <code>Q</code> or <code>q</code> will end the program's execution.</li>
<li>Since fetching data for liked and favorites works of an account only returns the publication dates of those works, not the dates of the actions (liking or favouring), the program needs to retrieve all liked and favorites works data before performing date filtering. If there are a large number of works, this may take a considerable amount of time. The number of requests can be controlled via the <code>max_pages</code> parameter.</li>
<li>To obtain data for posts made by a private account, a logged-in Cookie is required, and the logged-in account must follow the private account.</li>
<li>When batch downloading account posts works or mix works, if the corresponding nickname or mark parameter changes, the program will automatically update the nickname and mark parameter in the file names of the downloaded works.</li>
<li>When downloading files, the program first downloads them to a temporary folder and then moves them to the storage folder upon completion. The temporary folder will be emptied when the program ends.</li>
<li>The <code>Batch Download Favorites Works Mode</code> currently only supports downloading favorited works for the account corresponding to the currently logged-in Cookie and does not support multiple accounts.</li>
<li>If you want the program to use a proxy to request data, you must set the <code>proxy</code> parameter in <code>settings.json</code>; otherwise, the program will not use a proxy.</li>
<li>To exit the program, please end it in a normal way or by pressing Ctrl + C. Do not directly close the terminal window, as this may result in data loss.</li>
<li>If your computer does not have a suitable program for editing JSON files, we recommend using the <a href="https://try8.cn/tool/format/json">JSON Online Tool</a> to edit the configuration file content.</li>
<li>When the program prompts the user to input content or links, please be careful to avoid including newline characters, as this may cause unexpected issues.</li>
<li>This project does not support downloading paid works. Please do not report any issues related to downloading paid works.</li>
<li>On Windows systems, the program needs to be run as an administrator to read Cookies from Chromium, Chrome, and Edge browsers.</li>
<li>This project has not been optimized for running multiple instances of the program. If you need to run multiple instances, please copy the entire project folder to avoid unexpected issues.</li>
</ul>
<hr>

## Program Update

> **Option 1:** Download and unzip the files, then copy the old version of the `TikTokDownloader.db` file and the
`settings.json` file into the `_internal` folder.

> **Option 2:** Download and unzip the files \(without running the program), then copy all the files and directly
> overwrite the old version files.

## Build of Executable File Guide

This guide will walk you through forking this repository and executing GitHub Actions to automatically build and package
the program based on the latest source code!

---

### Steps to Use

#### 1. Fork the Repository

1. Click the **Fork** button at the top right of the project repository to fork it to your personal GitHub account
2. Your forked repository address will look like this: `https://github.com/your-username/this-repo`

---

#### 2. Enable GitHub Actions

1. Go to the page of your forked repository
2. Click the **Settings** tab at the top
3. Click the **Actions** tab on the right
4. Click the **General** option
5. Under **Actions permissions**, select **Allow all actions and reusable workflows** and click the **Save** button

---

#### 3. Manually Trigger the Build Process

1. In your forked repository, click the **Actions** tab at the top
2. Find the workflow named **Manual Build of Executable File**
3. Click the **Run workflow** button on the right:
    - Select the **master** or **develop** branch
    - Click **Run workflow**

---

#### 4. Check the Build Progress

1. On the **Actions** page, you can see the execution records of the triggered workflow
2. Click on the run record to view detailed logs to check the build progress and status

---

#### 5. Download the Build Result

1. Once the build is complete, go to the corresponding run record page
2. In the **Artifacts** section at the bottom of the page, you will see the built result file
3. Click to download and save it to your local machine to get the built program

---

### Notes

1. **Resource Usage**:
    - GitHub provides free build environments for Actions, with a monthly usage limit (2000 minutes) for free-tier
      users

2. **Code Modifications**:
    - You are free to modify the code in your forked repository to customize the build process
    - After making changes, you can trigger the build process again to get your customized version

3. **Stay in Sync with the Main Repository**:
    - If the main repository is updated with new code or workflows, it is recommended that you periodically sync your
      forked repository to get the latest features and fixes

---

### Frequently Asked Questions

#### Q1: Why can't I trigger the workflow?

A: Please ensure that you have followed the steps to **Enable Actions**. Otherwise, GitHub will prevent the workflow
from running

#### Q2: What should I do if the build process fails?

A:

- Check the run logs to understand the cause of the failure
- Ensure there are no syntax errors or dependency issues in the code
- If the problem persists, please open an issue on
  the [Issues page](https://github.com/JoeanAmier/TikTokDownloader/issues)

#### Q3: Can I directly use the Actions from the main repository?

A: Due to permission restrictions, you cannot directly trigger Actions from the main repository. Please use the forked
repository to execute the build process

# ⚠️ Disclaimer

<ul>
<li>Users decide on their own how to use this project and bear the risks themselves. The author is not responsible for any losses, liabilities, or risks incurred by users in the use of this project</li>
<li>The code and functionalities provided by the author of this project are developed based on existing knowledge and technology. The author strives to ensure the correctness and security of the code but does not guarantee that the code is completely error-free or defect-free.</li>
<li>Users must strictly adhere to the provisions in <a href="https://github.com/JoeanAmier/TikTokDownloader/blob/master/LICENSE">GNU
    General Public License v3.0</a> , and appropriately mention the use of code adhering <a
        href="https://github.com/JoeanAmier/TikTokDownloader/blob/master/LICENSE">GNU General Public License
    v3.0</a>.
</li>
<li>Under no circumstances shall users associate the author of this project, contributors, or other related parties with the user's usage behavior, or demand that they be held responsible for any losses or damages incurred by the user's use of this project.</li>
<li>Users must independently study relevant laws and regulations when using the code and functionalities of this project and ensure that their usage is legal and compliant. Users are solely responsible for any legal liability and risks resulting from violations of laws and regulations.</li>
<li>The author of this project will not provide a paid version of the TikTokDownloader project, nor will they offer any commercial services related to the TikTokDownloader project.</li>
<li>Any secondary development, modification, or Collections of the program based on this project is unrelated to the original author. The original author is not responsible for any consequences related to secondary development or its results. Users should take full responsibility for any situations that may arise from secondary development on their own.</li>
</ul>
<b>Before using the code and functionalities of this project, please carefully consider and accept the above disclaimer. If you have any questions or disagree with the statement, please do not use the code and functionalities of this project. If you use the code and functionalities of this project, it is considered that you fully understand and accept the above disclaimer, and willingly assume all risks and consequences associated with the use of this project.</b>
<h1>🌟 Contribution Guidelines</h1>
<p><strong>Welcome to contributing to this project! To keep the codebase clean, efficient, and easy to maintain, please read the following guidelines carefully to ensure that your contributions can be accepted and integrated smoothly.</strong></p>
<ul>
<li>Before starting development, please pull the latest code from the <code>develop</code> branch as the basis for your modifications; this helps avoid merge conflicts and ensures your changes are based on the latest state of the project.</li>
<li>If your changes involve multiple unrelated features or issues, please split them into several independent commits or pull requests.</li>
<li>Each pull request should focus on a single feature or fix as much as possible, to facilitate code review and testing.</li>
<li>Follow the existing coding style; make sure your code is consistent with the style already present in the project.</li>
<li>Write code that is easy to read; add appropriate annotation to help others understand your intentions.</li>
<li>Each commit should include a clear and concise commit message describing the changes made. The commit message should follow this format: <code>&lt;type&gt;: &lt;short description&gt;</code></li>
<li>When you are ready to submit a pull request, please prioritize submitting them to the <code>develop</code> branch; this provides maintainers with a buffer zone for additional testing and review before final merging into the <code>master</code> branch.</li>
</ul>
<p><strong>Reference materials:</strong></p>
<ul>
<li><a href="https://www.contributor-covenant.org/version/2/1/code_of_conduct/">Contributor Covenant</a></li>
<li><a href="https://opensource.guide/how-to-contribute/">How to Contribute to Open Source</a></li>
</ul>

# ✉️ Contact the Author

<ul>
<li>Author's Email: yonglelolu@foxmail.com</li>
<li>Author's WeChat: Downloader_Tools</li>
<li>Official WeChat Account: Downloader Tools</li>
<li><b>Discord Community</b>: <a href="https://discord.com/invite/ZYtmgKud9Y">Click to join the community</a></li>
</ul>
<p>✨ <b>The author's other open-source projects:</b></p>
<ul>
<li><b>XHS-Downloader (Xiaohongshu/小红书)</b>: <a href="https://github.com/JoeanAmier/XHS-Downloader">https://github.com/JoeanAmier/XHS-Downloader</a></li>
<li><b>KS-Downloader (Kuaishou/快手)</b>: <a href="https://github.com/JoeanAmier/KS-Downloader">https://github.com/JoeanAmier/KS-Downloader</a></li>
</ul>

# ♥️ Support the Project

<p>If <b>TikTokDownloader</b> has been helpful to you, please consider giving it a <b>Star</b> ⭐. Your support is greatly appreciated!</p>
<table>
<thead>
<tr>
<th align="center">微信(WeChat)</th>
<th align="center">支付宝(Alipay)</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><img src="./docs/微信赞助二维码.png" alt="微信赞助二维码" height="200" width="200"></td>
<td align="center"><img src="./docs/支付宝赞助二维码.png" alt="支付宝赞助二维码" height="200" width="200"></td>
</tr>
</tbody>
</table>
<p>If you're willing, consider making a contribution to provide additional support for <b>TikTokDownloader</b>!</p>

# 💰 Project Sponsorship

## JetBrains Tools

![PyCharm logo](https://resources.jetbrains.com/storage/products/company/brand/logos/PyCharm.svg)

<p><b>JetBrains</b> support active projects recognized within the global open-source community with complimentary licenses for non-commercial development.</p>

***

## TikHub

<img src="docs/赞助商_TikHub_Logo.png" alt="TikHub">
<p><a href="https://tikhub.io/">TikHub</a> is a leading data interface service provider, specializing in offering high-quality data interfaces for multiple popular platforms, including DouYin, TikTok, Xiaohongshu, Instagram, Twitter, and Kuaishou.</p>
<p>TikHub also provides customized services such as live streaming room monitoring, post monitoring, and influencer monitoring to meet the needs of different business scenarios.</p>
<p>Through daily sign-ins, users can obtain a certain quota of usage for free. You can use my <strong>referral link</strong>：<a href="https://user.tikhub.io/users/signup?referral_code=ZrdH8McC">https://user.tikhub.io/users/signup?referral_code=ZrdH8McC</a> or <strong>Referral Code</strong>：<code>ZrdH8McC</code>，Register and recharge to receive <code>$2</code> limit！</p>
<p><a href="https://tikhub.io/">TikHub</a> Provide the following services:</p>
<ul>
<li>Rich data interfaces</li>
<li>Free daily check-in to obtain credit limit</li>
<li>High quality API services</li>
<li>Official website:<a href="https://tikhub.io/">https://tikhub.io/</a></li>
<li>User login address:<a href="https://user.tikhub.io/">https://user.tikhub.io/</a></li>
</ul>

# 💡 Project References

* https://github.com/Johnserf-Seed/f2
* https://github.com/Johnserf-Seed/TikTokDownload
* https://github.com/Evil0ctal/Douyin_TikTok_Download_API
* https://github.com/NearHuiwen/TiktokDouyinCrawler
* https://github.com/ihmily/DouyinLiveRecorder
* https://github.com/encode/httpx/
* https://github.com/Textualize/rich
* https://github.com/omnilib/aiosqlite
* https://github.com/Tinche/aiofiles
* https://github.com/thewh1teagle/rookie
* https://github.com/pyinstaller/pyinstaller
* https://foss.heptapod.net/openpyxl/openpyxl
* https://github.com/carpedm20/emoji/
* https://github.com/lxml/lxml
* https://ffmpeg.org/ffmpeg-all.html
* https://html5up.net/hyperspace
